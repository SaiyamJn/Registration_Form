<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Registration Form</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <style>
    body{
      font-family:Arial, sans-serif;
      margin:0;
      height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      background:white;
    }
    .card{
      width:380px;
      padding:28px;
      border:1px solid #ccc;
      border-radius:10px;
      box-shadow:0 4px 10px rgba(0,0,0,0.03);
      text-align:center;
    }
    h2{margin:0 0 10px 0;}
    label{display:block;margin-top:12px;text-align:left;font-size:14px;color:#111;}
    input{padding:8px;width:100%;margin-top:6px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box;}
    input.error{border:2px solid red;}
    .btn{padding:10px 18px;margin-top:18px;cursor:pointer;border-radius:6px;border:1px solid #333;background:#fff;}
    .small{margin-top:12px;}
    a {text-decoration:none;}
    .error-msg{color:red;font-size:12px;text-align:left;margin-top:4px;display:none;}
  </style>
</head>
<body>

  <div class="card">
    <h2>Registration Form</h2>

    <form id="regForm" action="submit.php" method="POST">
      <label>Full Name</label>
      <input type="text" id="fullname" name="fullname" required>
      <div class="error-msg" id="fullname-error">Please enter your full name</div>

      <label>Email</label>
      <input type="email" id="email" name="email" required>
      <div class="error-msg" id="email-error">Please enter a valid email address</div>

      <label>Phone</label>
      <input type="text" id="phone" name="phone" required maxlength="10">
      <div class="error-msg" id="phone-error">Phone number must be exactly 10 digits</div>

      <button class="btn" type="submit">Submit</button>
    </form>

    <div class="small">
      <a href="view.php"><button class="btn" type="button">View Registrations</button></a>
    </div>
  </div>

  <script>
    $(document).ready(function() {
      // Remove error styling when user starts typing
      $('input').on('input', function() {
        $(this).removeClass('error');
        $('#' + $(this).attr('id') + '-error').hide();
      });

      // Phone number validation - only allow digits
      $('#phone').on('input', function() {
        this.value = this.value.replace(/[^0-9]/g, '');
      });

      // Form submission validation
      $('#regForm').on('submit', function(e) {
        e.preventDefault();
        let isValid = true;

        // Clear all previous errors
        $('input').removeClass('error');
        $('.error-msg').hide();

        // Validate Full Name
        const fullname = $('#fullname').val().trim();
        if (fullname === '') {
          $('#fullname').addClass('error');
          $('#fullname-error').show();
          isValid = false;
        }

        // Validate Email
        const email = $('#email').val().trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (email === '' || !emailRegex.test(email)) {
          $('#email').addClass('error');
          $('#email-error').show();
          isValid = false;
        }

        // Validate Phone (exactly 10 digits)
        const phone = $('#phone').val().trim();
        if (phone.length !== 10 || !/^\d{10}$/.test(phone)) {
          $('#phone').addClass('error');
          $('#phone-error').show();
          isValid = false;
        }

        // If all validations pass, submit the form
        if (isValid) {
          this.submit();
        }
      });
    });
  </script>

</body>
</html>